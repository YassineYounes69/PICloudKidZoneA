<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	    xmlns:b="http://bootsfaces.net/ui"
	
	xmlns:sec="http://www.springframework.org/security/tags">
<ui:composition template="/template/template.xhtml">

<style type="text/css">
    .ui-panelgrid.showcase-text-align-center .ui-grid-responsive .ui-panelgrid-cell {
        text-align: center;
    }

    .customPanelGrid .ui-panelgrid-content {
        align-items: center;
    }
</style>
    
	<ui:define name="CreateFeedback">
		<h:form id="feedbackForm">
		
		
			<p:panel header="Feedback Info" id="feedbackInfoPnl">
 



    <div class="card">
    <p:panelGrid columns="2">
    
     

        <h:outputText value="Feedback Numbers:"/>  
		<p:outputLabel id="nbr" value="Number of Feedbacks is : #{feedbackcontroller.getCountFeedbackByParentId(idparent)}"/>

        <h:outputText value="Feedback Message:"/>
        <p:inputTextarea rows="5" cols="30" maxlength="100"
                      autoResize="false" 
                     value="#{feedbackcontroller.feed}" required="true" />

        <h:outputText value="ChildCareCenter:"/>
                        <b:selectOneMenu id="childCareCenter" value="#{feedbackcontroller.idkidzone}" required="true">
						<f:selectItem itemLabel="Select KidZone" itemValue="#{null}" />
						<f:selectItems value="#{feedbackcontroller.ccc}" var="ChildCareCenter" 
						itemLabel="#{ChildCareCenter.getDescr()}" itemValue="#{ChildCareCenter.getId()}"/>
						</b:selectOneMenu>
			</p:panelGrid>
				</div>	
				
					<h:messages globalOnly="true" infoClass="info" />						
                     <p:commandButton  action="#{feedbackcontroller.addFeedback()}"
                        value="Add Feedback" /> 
                        
			</p:panel>
			</h:form>
			
		    <h:form id="feedbackList">
			<p:panel header="Feedback List" id="feedbacklist">
				<p:dataTable id="table" var="f"
					value="#{feedbackcontroller.getFeedbackParent()}">
					<p:column>
						<f:facet name="header">Feedback Message</f:facet>
						<h:outputText value="#{f.feedback}" />
					</p:column>
					<p:column>
						<f:facet name="header">ChildCareCenter Description</f:facet>
						<h:outputText value="#{f.childCareCenter.descr}" />
					</p:column>
					
					<p:column>
					<p:commandButton action="#{feedbackcontroller.deleteFeedback(f)}" value="Delete Feedback" />
					</p:column>
					
					
				</p:dataTable>				
		
	         <a href="http://localhost:8000/SpringMVC/ChildCareCenterFeedback.jsf" title="">See All FeedBacks</a>
	
			</p:panel>
			</h:form>
	</ui:define>
</ui:composition>
</html>